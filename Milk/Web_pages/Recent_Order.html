<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Milk Orders Dashboard</title>
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      background: #f2f4f7;
      margin: 0;
      padding: 0px;
    }

    .card {
      background: #fff;
      border-radius: 12px;
      padding: 25px;
      max-width: 1000px;
      margin: auto;
      box-shadow: 0 2px 20px rgba(0, 0, 0, 0.06);
    }

    .tabs {
      display: flex;
      gap: 40px;
      border-bottom: 2px solid #ddd;
      margin-bottom: 25px;
    }

    .tab {
      padding: 12px 0;
      font-weight: 600;
      cursor: pointer;
    }

    .tab.active {
      border-bottom: 3px solid #6c4ee3;
      color: #6c4ee3;
    }

    .badge {
      background-color: #e53935;
      color: white;
      padding: 4px 10px;
      font-size: 12px;
      border-radius: 50px;
      margin-left: 6px;
    }

    table {
      width: 100%;
      border-collapse: collapse;
      margin-bottom: 20px;
    }

    th, td {
      padding: 14px;
      text-align: left;
      border-bottom: 1px solid #eee;
    }

    tr:hover {
      background-color: #f9f9f9;
    }

    .status {
      background: #4CAF50;
      color: white;
      padding: 6px 12px;
      border-radius: 8px;
      font-size: 13px;
    }

    .btn {
      background: #6c4ee3;
      color: white;
      border: none;
      padding: 10px 16px;
      font-size: 14px;
      border-radius: 6px;
      cursor: pointer;
    }

    .btn-secondary {
      background: #007bff;
    }

 
.btn-modern {
  background: #f3f0ff;
  color: #6c4ee3;
  border: 1.5px solid #d5ccff;
  padding: 8px 16px;
  font-size: 14px;
  font-weight: 600;
  border-radius: 8px;
  cursor: pointer;
  transition: all 0.2s ease-in-out;
  box-shadow: 0 2px 6px rgba(108, 78, 227, 0.1);
}

.btn-modern:hover {
  background-color: #6c4ee3;
  color: white;
  border-color: #6c4ee3;
}









    .popup {
      display: none;
      position: fixed;
      top: 0; left: 0;
      width: 100%; height: 100%;
      background: rgba(0,0,0,0.4);
      justify-content: center;
      align-items: center;
      z-index: 999;
    }

    .popup-content {
      background: white;
      padding: 30px;
      border-radius: 12px;
      width: 90%;
      max-width: 600px;
      max-height: 90%;
      overflow-y: auto;
    }

    .form-group {
      margin-bottom: 15px;
    }

    input, select {
      width: 100%;
      padding: 10px;
      font-size: 15px;
      border: 1px solid #ccc;
      border-radius: 6px;
    }

    .footer-actions {
      display: flex;
      justify-content: space-between;
      margin-top: 20px;
    }

    h3 {
      margin-top: 0;
    }

    .close-btn {
      background-color: #ccc;
      color: black;
      float: right;
      padding: 5px 10px;
      border-radius: 6px;
      font-size: 14px;
      cursor: pointer;
    }
  </style>
</head>
<body>
  <div class="card">
    <div class="tabs">
      <div class="tab active">Recent Orders <span class="badge">1</span></div>
       <!--  <div class="tab">Payment History</div>-->
     <!-- <div class="tab">Notes & Remarks <span class="badge">3</span></div>
      <div class="tab">Analytics</div>-->
    </div> 

    <table id="ordersTable">
      <thead>
        <tr>
          <th>Order ID</th>
          <th>Date</th>
          <th>Items</th>
          <th>Quantity</th>
          <th>Total</th>
          <th>Status</th>
          <th>Action</th>
        </tr>
      </thead>
      <tbody>
        <!-- Orders go here -->
      </tbody>
    </table>

    <div class="footer-actions">
      <button class="btn-modern" onclick="openAllOrdersPopup()">View All Orders</button>
      <button class="btn" onclick="openCreatePopup()">Create New Order</button>
    </div>
  </div>

  <!-- View Details Popup -->
  <div class="popup" id="viewPopup">
    <div class="popup-content">
      <div class="close-btn" onclick="closePopup('viewPopup')">X</div>
      <h3>Order Details</h3>
      <p><strong>Order ID:</strong> <span id="viewId"></span></p>
      <p><strong>Date:</strong> <span id="viewDate"></span></p>
      <p><strong>Items:</strong> <span id="viewItems"></span></p>
      <p><strong>Quantity:</strong> <span id="viewQty"></span></p>
      <p><strong>Total:</strong> ₹<span id="viewTotal"></span></p>
      <p><strong>Status:</strong> <span class="status">Delivered</span></p>
    </div>
  </div>

  <!-- Create New Order Popup -->
  <div class="popup" id="createPopup">
    <div class="popup-content">
      <div class="close-btn" onclick="closePopup('createPopup')">X</div>
      <h3>Create New Order</h3>
      <div class="form-group">
        <label>Order ID</label>
        <input type="text" id="newId" disabled />
      </div>
      <div class="form-group">
        <label>Date</label>
        <input type="date" id="newDate" />
      </div>
      <div class="form-group">
        <label>Items</label>
        <select id="newItems">
          <option>Standard Milk</option>
          <option>Standard Milk + Curd</option>
          <option>Low-fat Milk</option>
        </select>
      </div>
      <div class="form-group">
        <label>Quantity</label>
        <input type="text" placeholder="e.g. 13 Liters + 2 Packs" id="newQty" />
      </div>
      <div class="form-group">
        <label>Total (₹)</label>
        <input type="number" id="newTotal" />
      </div>
      <button class="btn" onclick="createOrder()">Create Order</button>
    </div>
  </div>

  <!-- View All Orders Popup -->
  <div class="popup" id="allOrdersPopup">
    <div class="popup-content">
      <div class="close-btn" onclick="closePopup('allOrdersPopup')">X</div>
      <h3>All Orders</h3>
      <table>
        <thead>
          <tr>
            <th>Order ID</th>
            <th>Date</th>
            <th>Items</th>
            <th>Qty</th>
            <th>Total</th>
          </tr>
        </thead>
        <tbody id="allOrdersBody">
          <!-- Populated dynamically -->
        </tbody>
      </table>
    </div>
  </div>

  <script>
    let orders = [
      { id: "#ORD-1001", date: "2023-05-15", items: "Standard Milk", qty: "15 Liters", total: 45 },
      { id: "#ORD-1000", date: "2023-05-08", items: "Standard Milk", qty: "14 Liters", total: 42 },
      { id: "#ORD-0999", date: "2023-05-01", items: "Standard Milk + Curd", qty: "12 Liters + 2 Packs", total: 44 },
      { id: "#ORD-0998", date: "2023-04-24", items: "Standard Milk", qty: "15 Liters", total: 45 },
      { id: "#ORD-0997", date: "2023-04-17", items: "Low-fat Milk", qty: "10 Liters", total: 35 }
    ];

  

function renderOrders() {
  const tbody = document.querySelector("#ordersTable tbody");
  tbody.innerHTML = "";
  orders.slice(0, 5).forEach((order, i) => {
    tbody.innerHTML += `
      <tr>
        <td>${order.id}</td>
        <td>${new Date(order.date).toLocaleDateString()}</td>
        <td>${order.items}</td>
        <td>${order.qty}</td>
        <td>₹${order.total.toFixed(2)}</td>
        <td><span class="status">Delivered</span></td>
       <td><button class="btn-modern" onclick="viewDetails(${i})">View Details</button></td>
      </tr>
    `;
  });
  document.getElementById("orderCount").innerText = orders.length;
}





    function viewDetails(index) {
      const order = orders[index];
      document.getElementById("viewId").innerText = order.id;
      document.getElementById("viewDate").innerText = new Date(order.date).toLocaleDateString();
      document.getElementById("viewItems").innerText = order.items;
      document.getElementById("viewQty").innerText = order.qty;
      document.getElementById("viewTotal").innerText = order.total;
      document.getElementById("viewPopup").style.display = "flex";
    }

    function openCreatePopup() {
      const nextId = "#ORD-" + String(parseInt(orders[0].id.split("-")[1]) + 1).padStart(4, '0');
      document.getElementById("newId").value = nextId;
      document.getElementById("newDate").valueAsDate = new Date();
      document.getElementById("newQty").value = "";
      document.getElementById("newTotal").value = "";
      document.getElementById("createPopup").style.display = "flex";
    }

    function createOrder() {
      const id = document.getElementById("newId").value;
      const date = document.getElementById("newDate").value;
      const items = document.getElementById("newItems").value;
      const qty = document.getElementById("newQty").value;
      const total = parseFloat(document.getElementById("newTotal").value);

      if (!date || !qty || isNaN(total)) {
        alert("Please fill all fields correctly.");
        return;
      }

      orders.unshift({ id, date, items, qty, total });
      closePopup("createPopup");
      renderOrders();
    }

    function closePopup(id) {
      document.getElementById(id).style.display = "none";
    }

    function openAllOrdersPopup() {
      const tbody = document.getElementById("allOrdersBody");
      tbody.innerHTML = "";
      orders.forEach(order => {
        tbody.innerHTML += `
          <tr>
            <td>${order.id}</td>
            <td>${new Date(order.date).toLocaleDateString()}</td>
            <td>${order.items}</td>
            <td>${order.qty}</td>
            <td>₹${order.total.toFixed(2)}</td>
          </tr>
        `;
      });
      document.getElementById("allOrdersPopup").style.display = "flex";
    }


document.querySelectorAll('.popup').forEach(popup => {
      popup.addEventListener('click', function(event) {
        if (event.target === popup) {
          popup.style.display = 'none';
        }
      });
    });


    renderOrders();


// Allow closing popup when clicking outside the modal content
document.querySelectorAll('.popup').forEach(popup => {
  popup.addEventListener('click', function(event) {
  

  // Only close if background (not modal content) is clicked
    if (event.target === popup) {
      popup.style.display = 'none';
renderOrders();

    }
  });
});
  </script>
</body>
</html>